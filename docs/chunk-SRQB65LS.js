import{a as z}from"./chunk-ZEHHDKZT.js";import{a as k}from"./chunk-EUJEQ3W4.js";import{b as S,c as u,d as F,e as T,f as I,g as E,h as L,i as B,k as j}from"./chunk-4PXOSGJ6.js";import{G as a,I as f,J as M,N as p,P as s,R as _,V as i,W as o,X as d,Y as b,Z as c,_ as m,ea as l,ga as P,oa as w,pa as y,ua as O,v as h,w as C,x,y as v}from"./chunk-HTQQWDB6.js";function A(t,r){t&1&&(i(0,"span"),l(1,"Email is required"),o())}function D(t,r){t&1&&(i(0,"span"),l(1,"Please enter a valid email"),o())}function G(t,r){if(t&1&&(i(0,"div",22),p(1,A,2,0,"span",20)(2,D,2,0,"span",20),o()),t&2){let n=m();a(),s("ngIf",n.email==null||n.email.errors==null?null:n.email.errors.required),a(),s("ngIf",n.email==null||n.email.errors==null?null:n.email.errors.email)}}function N(t,r){t&1&&(i(0,"span"),l(1,"Password is required"),o())}function V(t,r){t&1&&(i(0,"span"),l(1,"Password must be at least 6 characters"),o())}function q(t,r){if(t&1&&(i(0,"div",22),p(1,N,2,0,"span",20)(2,V,2,0,"span",20),o()),t&2){let n=m();a(),s("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.required),a(),s("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.minlength)}}function H(t,r){if(t&1){let n=b();i(0,"div",23),l(1),i(2,"a",24),c("click",function(){h(n);let g=m();return C(g.goToRecover())}),l(3,"Forgot your password?"),o()()}if(t&2){let n=m();a(),P(" ",n.errorMessage," ")}}function W(t,r){t&1&&(i(0,"span"),l(1,"Sign in to DocRoster"),o())}function Z(t,r){t&1&&(i(0,"span"),l(1,"Signing in..."),o())}var R=class t{constructor(r,n,e){this.fb=r;this.authService=n;this.router=e}loginForm;loading=!1;errorMessage="";ngOnInit(){this.loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.loading=!0,this.errorMessage="";let{email:r,password:n}=this.loginForm.value;this.authService.login({email:r,password:n}).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/search"])},error:e=>{this.loading=!1,console.error("Login error:",e),this.errorMessage=e?.message||"Invalid email or password"}})}signInWithGoogle(){this.loading=!0,this.authService.login({email:"google.user@example.com",password:"password123"}).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/search"])},error:n=>{this.loading=!1,this.errorMessage=n.message||"Google sign-in failed"}})}signInWithApple(){this.loading=!0,this.authService.login({email:"apple.user@example.com",password:"password123"}).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/search"])},error:n=>{this.loading=!1,this.errorMessage=n.message||"Apple sign-in failed"}})}goToRegister(){this.router.navigate(["/auth/register"])}goToRecover(){this.router.navigate(["/auth/recover"])}static \u0275fac=function(n){return new(n||t)(f(B),f(k),f(O))};static \u0275cmp=M({type:t,selectors:[["app-login"]],decls:31,vars:11,consts:[[1,"login-overlay"],[1,"login-card"],[1,"logo-section"],["src","assets/docroster-logo.png","alt","DocRoster",1,"logo-image"],[1,"form-container"],["googleText","Sign in","appleText","Sign in",3,"googleClick","appleClick"],[1,"divider"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["id","email","type","email","formControlName","email","placeholder","Email"],["class","error-message",4,"ngIf"],[1,"form-group","password-group"],["id","password","type","password","formControlName","password","placeholder","Password"],["type","button","title","Password help",1,"help-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M11 18H13V16H11V18ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM12 6C9.79 6 8 7.79 8 10H10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 12 11 11.75 11 15H13C13 12.75 16 12.5 16 10C16 7.79 14.21 6 12 6Z","fill","#0A1748"],[1,"forgot-password-link"],["href","javascript:void(0)",3,"click"],["class","error-message global-error",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"register-link"],[1,"error-message"],[1,"error-message","global-error"],["href","javascript:void(0)",1,"error-recover-link",3,"click"]],template:function(n,e){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,"img",3),o(),i(4,"div",4)(5,"app-auth-buttons",5),c("googleClick",function(){return e.signInWithGoogle()})("appleClick",function(){return e.signInWithApple()}),o(),i(6,"div",6)(7,"span"),l(8,"or"),o()(),i(9,"form",7),c("ngSubmit",function(){return e.onSubmit()}),i(10,"div",8),d(11,"input",9),p(12,G,3,2,"div",10),o(),i(13,"div",11),d(14,"input",12),i(15,"button",13),x(),i(16,"svg",14),d(17,"path",15),o()(),p(18,q,3,2,"div",10),o(),v(),i(19,"div",16)(20,"a",17),c("click",function(){return e.goToRecover()}),l(21,"Forgot password?"),o()(),p(22,H,4,1,"div",18),i(23,"button",19),p(24,W,2,0,"span",20)(25,Z,2,0,"span",20),o()(),i(26,"div",21)(27,"p"),l(28," Does not have an account? "),i(29,"a",17),c("click",function(){return e.goToRegister()}),l(30,"Register now!"),o()()()()()()),n&2&&(a(9),s("formGroup",e.loginForm),a(2),_("invalid",(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.touched))),a(),s("ngIf",(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.touched))),a(2),_("invalid",(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.touched))),a(4),s("ngIf",(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.touched))),a(4),s("ngIf",e.errorMessage),a(),s("disabled",e.loginForm.invalid||e.loading),a(),s("ngIf",!e.loading),a(),s("ngIf",e.loading))},dependencies:[y,w,j,I,S,F,T,E,L,z],styles:['.login-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;z-index:10}.login-card[_ngcontent-%COMP%]{display:inline-flex;padding:44px 0 24px;flex-direction:column;justify-content:flex-end;align-items:center;gap:44px;border-radius:32px;background:#ffffff3d;box-shadow:0 40px 80px #00000040;backdrop-filter:blur(12px)}.logo-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.logo-section[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{width:258px;height:160px;aspect-ratio:129/80;object-fit:contain}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px;width:393px}.sign-in-buttons[_ngcontent-%COMP%]{display:flex;width:345px;gap:8px}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]{display:flex;height:46px;padding:12px 24px;justify-content:center;align-items:center;gap:10px;flex:1 0 0;border-radius:24px;background:#000;backdrop-filter:blur(12px);border:none;cursor:pointer;transition:all .2s ease;color:#fff;font-family:SF UI Display,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-weight:600}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]:hover{opacity:.9}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;color:#fff}.sign-in-buttons[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%], .sign-in-buttons[_ngcontent-%COMP%]   .apple-btn[_ngcontent-%COMP%]{background:#000}.divider[_ngcontent-%COMP%]{display:flex;height:22px;padding:0 24px;align-items:center;gap:16px;align-self:stretch}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#0a174833}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0a1748;text-align:center;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:160%;letter-spacing:-.408px;text-transform:uppercase;opacity:.4;flex-shrink:0}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:345px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:345px;height:48px;padding:12px 16px;box-sizing:border-box;border:1px solid rgba(10,23,72,.2);border-radius:12px;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:15px;color:#0a1748;background:#ffffffe6;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0a174899;background:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0a174866}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border-color:#dc3545}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:13px;color:#dc3545;font-family:SF UI Display,-apple-system,BlinkMacSystemFont,sans-serif}.password-group[_ngcontent-%COMP%]{position:relative}.password-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:48px}.password-group[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{position:absolute;right:14px;top:14px;background:none;border:none;padding:0;width:24px;height:24px;aspect-ratio:1/1;cursor:help;transition:opacity .2s ease;display:flex;align-items:center;justify-content:center}.password-group[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]:hover{opacity:.8}.password-group[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.global-error[_ngcontent-%COMP%]{padding:12px;background:#dc35451a;border-radius:8px;border:1px solid rgba(220,53,69,.3);color:#dc3545;font-size:14px;display:flex;flex-direction:column;gap:8px}.global-error[_ngcontent-%COMP%]   .error-recover-link[_ngcontent-%COMP%]{color:#0a1748;font-weight:600;text-decoration:underline;font-size:13px}.global-error[_ngcontent-%COMP%]   .error-recover-link[_ngcontent-%COMP%]:hover{color:#0a1748cc}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-top:-4px}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0a174899;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:13px;font-weight:500;text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0a1748;text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{display:flex;width:345px;padding:12px 24px;justify-content:center;align-items:flex-start;gap:10px;border-radius:24px;border:1px solid rgba(10,23,72,.4);background:#0a1748cc;backdrop-filter:blur(12px);color:#fff;font-family:SF UI Display,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;align-self:center}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0a1748e6}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#0a174866;cursor:not-allowed}.register-link[_ngcontent-%COMP%]{text-align:center}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:700;line-height:110%;letter-spacing:-.408px;color:#0a1748}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0a1748cc;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:700;line-height:110%;letter-spacing:-.408px;text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:none;text-decoration-thickness:auto;text-underline-offset:auto;text-underline-position:from-font}.register-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0a1748}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{width:calc(100vw - 32px);margin:16px}.sign-in-buttons[_ngcontent-%COMP%]{flex-direction:column}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]{width:100%}.btn-primary[_ngcontent-%COMP%]{width:100%;max-width:345px}}']})};export{R as LoginComponent};
