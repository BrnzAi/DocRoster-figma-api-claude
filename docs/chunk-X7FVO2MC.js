import{a as A}from"./chunk-SHQGPGCN.js";import{a as T}from"./chunk-ZAHFE7SV.js";import{a as I,b as E,c as d,d as R,e as j,f as z,g as B,h as U,i as L,k as V}from"./chunk-MDKUM6P7.js";import{$ as h,F as P,G as l,I as u,J as O,N as m,Q as C,S as v,T as c,W as i,X as r,Y as p,_ as g,fa as s,g as M,ga as w,k,p as y,qa as S,va as F,x as f,y as x}from"./chunk-FBS64HS4.js";var _=class n{uploadFile(o,t="profile"){return this.isValidFile(o,t)?M({success:!0,url:URL.createObjectURL(o)}).pipe(k(500)):M({success:!1,error:"Invalid file type or size"})}isValidFile(o,t){return o.size>5242880?!1:{profile:["image/jpeg","image/jpg","image/png","image/webp"],document:["application/pdf","image/jpeg","image/jpg","image/png"]}[t].includes(o.type)}fileToBase64(o){return new Promise((t,e)=>{let a=new FileReader;a.readAsDataURL(o),a.onload=()=>t(a.result),a.onerror=b=>e(b)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=y({token:n,factory:n.\u0275fac,providedIn:"root"})};function H(n,o){if(n&1&&p(0,"img",5),n&2){let t=h();C("src",t.profileImageUrl,P)}}function q(n,o){n&1&&(f(),i(0,"svg",6),p(1,"path",35)(2,"path",36),r())}function W(n,o){n&1&&(i(0,"span"),s(1,"Name is required"),r())}function Z(n,o){n&1&&(i(0,"span"),s(1,"Name must be at least 2 characters"),r())}function Y(n,o){if(n&1&&(i(0,"div",23),m(1,W,2,0,"span")(2,Z,2,0,"span"),r()),n&2){let t=h();l(),c(!(t.name==null||t.name.errors==null)&&t.name.errors.required?1:-1),l(),c(!(t.name==null||t.name.errors==null)&&t.name.errors.minlength?2:-1)}}function J(n,o){n&1&&(i(0,"span"),s(1,"Email is required"),r())}function K(n,o){n&1&&(i(0,"span"),s(1,"Please enter a valid email"),r())}function Q(n,o){if(n&1&&(i(0,"div",23),m(1,J,2,0,"span")(2,K,2,0,"span"),r()),n&2){let t=h();l(),c(!(t.email==null||t.email.errors==null)&&t.email.errors.required?1:-1),l(),c(!(t.email==null||t.email.errors==null)&&t.email.errors.email?2:-1)}}function X(n,o){if(n&1&&(i(0,"div",23),s(1),r()),n&2){let t=h();l(),w(t.errorMessage)}}function $(n,o){n&1&&(i(0,"span"),s(1,"Sign up to DocRoster"),r())}function ee(n,o){n&1&&(i(0,"span"),s(1,"Signing up..."),r())}var G=class n{constructor(o,t,e,a){this.fb=o;this.authService=t;this.fileUploadService=e;this.router=a}registerForm;loading=!1;errorMessage="";profileImageUrl=null;ngOnInit(){this.registerForm=this.fb.group({name:["",[d.required,d.minLength(2)]],email:["",[d.required,d.email]],phone:[""],terms:[!0,[d.requiredTrue]]})}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get terms(){return this.registerForm.get("terms")}onSubmit(){if(this.registerForm.invalid){this.registerForm.markAllAsTouched(),this.terms?.value||(this.errorMessage="Please accept the Terms and Conditions");return}this.loading=!0,this.errorMessage="";let{name:o,email:t}=this.registerForm.value;this.authService.register({name:o,email:t,password:"password123"}).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/search"])},error:a=>{this.loading=!1,console.error("Registration error:",a),this.errorMessage=a?.message||"Registration failed"}})}signInWithGoogle(){this.loading=!0,this.authService.login({email:"google.user@example.com",password:"password123"}).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/search"])},error:t=>{this.loading=!1,this.errorMessage=t?.message||"Google sign-in failed"}})}signInWithApple(){this.loading=!0,this.authService.login({email:"apple.user@example.com",password:"password123"}).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/search"])},error:t=>{this.loading=!1,this.errorMessage=t?.message||"Apple sign-in failed"}})}goToLogin(){this.router.navigate(["/login"])}onProfileImageChange(o){let t=o.target;if(t.files&&t.files[0]){let e=t.files[0];this.fileUploadService.uploadFile(e,"profile").subscribe({next:a=>{a.success&&a.url?this.profileImageUrl=a.url:this.errorMessage=a.error||"Failed to upload image"},error:a=>{console.error("Upload error:",a),this.errorMessage="Failed to upload image"}})}}triggerFileInput(){document.getElementById("profileImageInput")?.click()}static \u0275fac=function(t){return new(t||n)(u(L),u(T),u(_),u(F))};static \u0275cmp=O({type:n,selectors:[["app-register"]],decls:49,vars:12,consts:[[1,"login-overlay"],[1,"login-card","register-card"],[1,"profile-section"],["type","file","id","profileImageInput","accept","image/*",2,"display","none",3,"change"],[1,"profile-circle",3,"click"],["alt","Profile",1,"profile-image",3,"src"],["width","100","height","100","viewBox","0 0 100 100","fill","none"],["type","button",1,"camera-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","23","height","23","viewBox","0 0 23 23","fill","none"],["d","M5.1817 4.75629L5.65637 2.38189C5.75307 1.89809 6.01446 1.46277 6.39605 1.15004C6.77763 0.837302 7.25581 0.666492 7.74917 0.666687H14.9172C15.4105 0.666492 15.8887 0.837302 16.2703 1.15004C16.6519 1.46277 16.9133 1.89809 17.01 2.38189L17.4846 4.75629C17.5591 5.12833 17.7377 5.47159 17.9996 5.74614C18.2615 6.02069 18.596 6.21526 18.9641 6.30722C19.8313 6.52416 20.6011 7.02474 21.1512 7.72941C21.7012 8.43407 21.9999 9.30237 21.9998 10.1963V17.7334C21.9998 18.8649 21.5503 19.9502 20.7502 20.7503C19.95 21.5505 18.8648 22 17.7332 22H4.93317C3.80158 22 2.71634 21.5505 1.91618 20.7503C1.11603 19.9502 0.666504 18.8649 0.666504 17.7334V10.1963C0.666422 9.30237 0.965145 8.43407 1.51519 7.72941C2.06524 7.02474 2.83504 6.52416 3.70224 6.30722C4.07036 6.21526 4.40481 6.02069 4.66671 5.74614C4.92861 5.47159 5.1072 5.12833 5.1817 4.75629V4.75629Z","stroke","white","stroke-width","1.33333","stroke-linecap","round","stroke-linejoin","round"],["d","M11.3331 17.7334C13.6895 17.7334 15.5997 15.8232 15.5997 13.4667C15.5997 11.1103 13.6895 9.20007 11.3331 9.20007C8.97666 9.20007 7.06641 11.1103 7.06641 13.4667C7.06641 15.8232 8.97666 17.7334 11.3331 17.7334Z","stroke","white","stroke-width","1.33333","stroke-linecap","round","stroke-linejoin","round"],["d","M10.2666 4.93329H12.3999","stroke","white","stroke-width","1.33333","stroke-linecap","round","stroke-linejoin","round"],["type","button",1,"close-btn",3,"click"],["width","12.44","height","12.44","viewBox","0 0 14 14","fill","none"],["d","M13 1L1 13M1 1L13 13","stroke","#0A1748","stroke-width","2","stroke-linecap","round"],[1,"register-heading"],[1,"form-container"],["googleText","Sign up","appleText","Sign up",3,"googleClick","appleClick"],[1,"divider"],[3,"ngSubmit","formGroup"],[1,"form-fields"],[1,"form-group"],["id","name","type","text","formControlName","name","placeholder","Person or company name"],[1,"error-message"],["id","email","type","email","formControlName","email","placeholder","Email used for login"],["id","phone","type","tel","formControlName","phone","placeholder","Phone number (optional)"],["type","submit",1,"btn-primary",3,"disabled"],[1,"terms-checkbox"],[1,"checkbox-container"],["type","checkbox","id","terms","formControlName","terms"],[1,"checkmark"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 16 16","fill","none"],["d","M13.3346 4L6.0013 11.3333L2.66797 8","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"checkbox-label"],["href","/terms"],["d","M50 50C58.2843 50 65 43.2843 65 35C65 26.7157 58.2843 20 50 20C41.7157 20 35 26.7157 35 35C35 43.2843 41.7157 50 50 50Z","fill","#729EC6"],["d","M50 55C33.4315 55 20 68.4315 20 85V90H80V85C80 68.4315 66.5685 55 50 55Z","fill","#729EC6"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),g("change",function(b){return e.onProfileImageChange(b)}),r(),i(4,"div",4),g("click",function(){return e.triggerFileInput()}),m(5,H,1,1,"img",5)(6,q,3,0,":svg:svg",6),r(),i(7,"button",7),g("click",function(){return e.triggerFileInput()}),f(),i(8,"svg",8),p(9,"path",9)(10,"path",10)(11,"path",11),r()()(),x(),i(12,"button",12),g("click",function(){return e.goToLogin()}),f(),i(13,"svg",13),p(14,"path",14),r()(),x(),i(15,"div",15)(16,"h1"),s(17,"Register account"),r(),i(18,"p"),s(19,"Sign up to view and manage specialists"),r()(),i(20,"div",16)(21,"app-auth-buttons",17),g("googleClick",function(){return e.signInWithGoogle()})("appleClick",function(){return e.signInWithApple()}),r(),i(22,"div",18)(23,"span"),s(24,"or"),r()(),i(25,"form",19),g("ngSubmit",function(){return e.onSubmit()}),i(26,"div",20)(27,"div",21),p(28,"input",22),m(29,Y,3,2,"div",23),r(),i(30,"div",21),p(31,"input",24),m(32,Q,3,2,"div",23),r(),i(33,"div",21),p(34,"input",25),r()(),m(35,X,2,1,"div",23),i(36,"button",26),m(37,$,2,0,"span")(38,ee,2,0,"span"),r(),i(39,"div",27)(40,"label",28),p(41,"input",29),i(42,"span",30),f(),i(43,"svg",31),p(44,"path",32),r()(),x(),i(45,"span",33),s(46," I've read and agree to the "),i(47,"a",34),s(48,"Terms and Conditions"),r()()()()()()()()),t&2&&(l(5),c(e.profileImageUrl?5:6),l(20),C("formGroup",e.registerForm),l(3),v("invalid",(e.name==null?null:e.name.invalid)&&((e.name==null?null:e.name.dirty)||(e.name==null?null:e.name.touched))),l(),c(e.name!=null&&e.name.invalid&&(e.name!=null&&e.name.dirty||e.name!=null&&e.name.touched)?29:-1),l(2),v("invalid",(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.touched))),l(),c(e.email!=null&&e.email.invalid&&(e.email!=null&&e.email.dirty||e.email!=null&&e.email.touched)?32:-1),l(3),c(e.errorMessage?35:-1),l(),C("disabled",!e.registerForm.valid||e.loading),l(),c(e.loading?-1:37),l(),c(e.loading?38:-1))},dependencies:[S,V,z,E,I,R,j,B,U,A],styles:['.login-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1;pointer-events:none}.login-card[_ngcontent-%COMP%]{position:relative;width:393px;display:flex;flex-direction:column;align-items:center;padding:44px 24px 24px;gap:24px;border-radius:32px;background:#ffffff3d;backdrop-filter:blur(12px);pointer-events:auto;box-shadow:0 0 48px #0a17483d;box-sizing:border-box}.profile-section[_ngcontent-%COMP%]{position:relative;width:155px;height:150px;display:flex;align-items:center;justify-content:center}.profile-circle[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:1000px;border:1px solid rgba(10,23,72,.12);background:#729ec61a;display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:pointer;transition:all .2s}.profile-circle[_ngcontent-%COMP%]:hover{background:#729ec626}.profile-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.4}.profile-circle[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.camera-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:48px;height:48px;display:inline-flex;padding:13.333px;align-items:flex-start;gap:13.333px;border-radius:1333.333px;border:1px solid rgba(0,0,0,.05);background:#0003;backdrop-filter:blur(26.6666679382px);cursor:pointer;transition:all .2s}.camera-btn[_ngcontent-%COMP%]:hover{background:#0000004d}.camera-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:21.33px;height:21.33px}.close-btn[_ngcontent-%COMP%]{position:absolute;top:24px;right:24px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;padding:6px 9px;border:none;border-radius:750px;background:#ffffff7a;backdrop-filter:blur(12px);box-shadow:0 0 48px #0a17483d;cursor:pointer;transition:all .2s;z-index:10}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffffa3;transform:scale(1.05)}.close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12.44px;height:12.44px}.register-heading[_ngcontent-%COMP%]{display:flex;width:345px;flex-direction:column;align-items:flex-start;gap:8px;text-align:left}.register-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0a1748;font-family:SF Pro Display,-apple-system,BlinkMacSystemFont,sans-serif;font-size:32px;font-style:normal;font-weight:700;line-height:normal;margin:0}.register-heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0a174899;font-family:SF UI Display,-apple-system,BlinkMacSystemFont,sans-serif;font-size:18px;font-style:normal;font-weight:400;line-height:120%;letter-spacing:-.5px;margin:0}.form-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center;gap:24px}.sign-in-buttons[_ngcontent-%COMP%]{display:flex;width:345px;gap:8px}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]{display:flex;height:46px;padding:12px 24px;justify-content:center;align-items:center;gap:10px;flex:1 0 0;border-radius:24px;background:#000;backdrop-filter:blur(12px);border:none;cursor:pointer;transition:all .2s ease;color:#fff;font-family:SF UI Display,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-weight:600}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]:hover{opacity:.9}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.sign-in-buttons[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;color:#fff}.divider[_ngcontent-%COMP%]{display:flex;width:345px;height:22px;align-items:center;gap:16px}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#0a17481f}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0a1748;text-align:center;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:160%;opacity:.4;text-transform:uppercase}.form-fields[_ngcontent-%COMP%]{display:flex;width:345px;flex-direction:column;align-items:flex-start;gap:8px;margin-bottom:12px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:0;width:100%}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#0a1748;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:500;line-height:160%}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 16px;border-radius:12px;border:1px solid rgba(10,23,72,.12);background:#fff;color:#0a1748;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:160%;transition:all .2s;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0a174866}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0a174866;box-shadow:0 0 0 4px #0a174814}.btn-primary[_ngcontent-%COMP%]{display:flex;width:345px;height:46px;padding:12px 16px;justify-content:center;align-items:center;gap:8px;border-radius:12px;background:#0a1748cc;border:none;cursor:pointer;transition:all .2s;box-sizing:border-box;margin-bottom:24px;color:#fff;text-align:center;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:16px;font-style:normal;font-weight:600;line-height:160%}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0a1748e6;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.terms-checkbox[_ngcontent-%COMP%]{display:flex;width:345px;align-items:flex-start;gap:12px}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;cursor:pointer;width:100%;position:relative}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;width:24px;height:24px;cursor:pointer;z-index:1}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#0a1748cc;border:none}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:24px;height:24px;min-width:24px;flex-shrink:0;border-radius:8px;border:1px solid rgba(10,23,72,.12);background:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s;pointer-events:none}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:0;width:16px;height:16px;flex-shrink:0;transition:opacity .2s}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#fff}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{flex:1;color:#0a1748;font-family:SF UI Display,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:700;line-height:160%}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0a1748;font-weight:700;text-decoration:underline;transition:opacity .2s}.terms-checkbox[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7}.login-link[_ngcontent-%COMP%]{display:flex;width:345px;justify-content:center;align-items:center;gap:8px;color:#0a1748;text-align:center;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:160%;opacity:.8}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0a1748;font-weight:600;text-decoration:none;transition:opacity .2s}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7;text-decoration:underline}.error-message[_ngcontent-%COMP%]{width:345px;padding:12px 16px;border-radius:12px;background:#dc26261a;border:1px solid rgba(220,38,38,.2);color:#991b1b;font-family:SF Pro Text,-apple-system,BlinkMacSystemFont,sans-serif;font-size:14px;font-style:normal;font-weight:500;line-height:160%}']})};export{G as RegisterComponent};
