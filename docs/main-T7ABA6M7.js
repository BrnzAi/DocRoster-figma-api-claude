import{a as l}from"./chunk-XBS6BR6S.js";import{a as k,c as b,d as x}from"./chunk-SZ3IM4YQ.js";import{G as u,J as r,N as g,P as f,R as h,U as C,V as v,W as i,Z as M,ia as y,qa as G,sa as A,t as a,ta as m,ua as I}from"./chunk-E7BW5NIG.js";var d=(e,t)=>{let o=a(l),n=a(m);return o.isLoggedIn()?!0:(n.navigate(["/auth/login"],{queryParams:{returnUrl:t.url}}),!1)},p=(e,t)=>{let o=a(l),n=a(m);return o.isLoggedIn()?(n.navigate(["/search"]),!1):!0};var O=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth/login",loadComponent:()=>import("./chunk-E6IFKZAO.js").then(e=>e.LoginComponent),canActivate:[p]},{path:"auth/register",loadComponent:()=>import("./chunk-FPAIXZG6.js").then(e=>e.RegisterComponent),canActivate:[p]},{path:"auth/recover",loadComponent:()=>import("./chunk-2MDJE5EI.js").then(e=>e.RecoverComponent),canActivate:[p]},{path:"search",loadComponent:()=>import("./chunk-CSDJYNIE.js").then(e=>e.SearchComponent),canActivate:[d]},{path:"specialist/:id",loadComponent:()=>import("./chunk-GGHMGLBO.js").then(e=>e.SpecialistDetailsComponent),canActivate:[d]},{path:"**",redirectTo:"/auth/login"}];var L={providers:[y({eventCoalescing:!0}),I(O)]};function R(e,t){if(e&1&&i(0,"google-map",1),e&2){let o=M();f("options",o.mapOptions)}}var s=class e{isGoogleMapsLoaded=!1;mapOptions={center:{lat:40.7128,lng:-74.006},zoom:12,disableDefaultUI:!0,styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]}]};ngOnInit(){this.checkGoogleMapsLoaded()}checkGoogleMapsLoaded(){if(typeof google<"u"&&google.maps){this.isGoogleMapsLoaded=!0;return}let t=setInterval(()=>{typeof google<"u"&&google.maps&&(this.isGoogleMapsLoaded=!0,clearInterval(t))},100);setTimeout(()=>{clearInterval(t),this.isGoogleMapsLoaded||console.error("Google Maps failed to load")},1e4)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=r({type:e,selectors:[["app-map-background"]],decls:2,vars:1,consts:[[1,"map-background"],["width","100%","height","100%",3,"options"]],template:function(o,n){o&1&&(C(0,"div",0),g(1,R,1,1,"google-map",1),v()),o&2&&(u(),h(n.isGoogleMapsLoaded?1:-1))},dependencies:[b,k],styles:[".map-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}"]})};var c=class e{title="docroster-app";ngOnInit(){this.loadGoogleMapsScript()}loadGoogleMapsScript(){return new Promise((t,o)=>{if(typeof google<"u"&&google.maps){t();return}if(document.querySelector('script[src*="maps.googleapis.com"]')){let D=setInterval(()=>{typeof google<"u"&&google.maps&&(clearInterval(D),t())},100);return}let n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${x.googleMapsApiKey}&libraries=places,marker`,n.async=!0,n.defer=!0,n.onload=()=>t(),n.onerror=()=>o(new Error("Failed to load Google Maps")),document.head.appendChild(n)})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=r({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(o,n){o&1&&i(0,"app-map-background")(1,"router-outlet")},dependencies:[A,s],encapsulation:2})};G(c,L).catch(e=>console.error(e));
